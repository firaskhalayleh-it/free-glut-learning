<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مركز تعلم FreeGLUT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css">
    <style>
        :root {
            /* Enhanced Color Palette */
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #06b6d4;
            --accent: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --dark: #0f172a;
            --light: #f8fafc;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-800: #1f2937;
            
            /* Typography */
            --font-heading: 'Poppins', system-ui, sans-serif;
            --font-body: 'Poppins', system-ui, sans-serif;
            --font-code: 'JetBrains Mono', monospace;
            
            /* Spacing */
            --space-unit: 0.5rem;
            --container-padding: clamp(1rem, 5vw, 3rem);
            --section-spacing: clamp(3rem, 8vw, 6rem);
            
            /* Effects */
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --transition-fast: 200ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Glass Effect */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* Reset & Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: linear-gradient(135deg, var(--dark), #1e1b4b);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            direction: rtl; /* دعم الاتجاه من اليمين إلى اليسار */
        }

        /* Enhanced Navigation */
        .navbar {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--glass-border);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            padding: 1rem var(--container-padding);
        }

        .navbar .logo {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .navbar ul {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .navbar a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
            transition: var(--transition-fast);
        }

        .navbar a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary);
            transition: width var(--transition-normal);
        }

        .navbar a:hover::after {
            width: 100%;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            padding-top: 4rem;
            background: radial-gradient(circle at top right, rgba(99, 102, 241, 0.15), transparent);
        }

        .hero-content {
            text-align: center;
            max-width: 800px;
            padding: 2rem;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            margin-bottom: 1rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            color: var(--gray-200);
        }

        /* Enhanced Button Styles */
        .btn {
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--container-padding);
        }

        /* Enhanced Section Styles */
        section {
            margin: var(--section-spacing) 0;
            padding: 2rem;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            border: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
        }

        section h2 {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--primary);
            text-align: left; /* لضبط العنوان لليسار */
        }

        /* Enhanced Cards */
        .tutorial, .quiz {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--glass-border);
            transition: transform var(--transition-normal), box-shadow var(--transition-normal);
        }

        .tutorial:hover, .quiz:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.2);
        }

        /* Code Editor */
        .editor-container {
            background: var(--dark);
            border-radius: 1rem;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .CodeMirror {
            height: 500px !important;
            font-family: var(--font-code);
            font-size: 14px;
            padding: 1rem;
        }

        /* Progress Bars */
        .progress-bar {
            height: 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-bar-inner {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            transition: width var(--transition-normal);
            text-align: center;
            color: var(--light);
            line-height: 12px;
            font-size: 0.8rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar ul {
                display: none;
                position: fixed;
                top: 70px;
                left: 0;
                width: 100%;
                background: var(--dark);
                padding: 1rem;
                flex-direction: column;
                align-items: center;
            }

            .navbar.active ul {
                display: flex;
            }

            .menu-toggle {
                display: block;
                font-size: 1.5rem;
                color: var(--light);
                cursor: pointer;
            }

            .hero-content {
                margin: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        section {
            animation: fadeIn 0.6s ease-out;
        }

        /* WebGL Canvas */
        #webgl-canvas {
            width: 100%;
            height: 400px;
            border-radius: 1rem;
            background: var(--dark);
            margin-top: 1rem;
        }

        /* Quiz Styles */
        .quiz-options {
            display: grid;
            gap: 1rem;
            margin: 1rem 0;
        }

        .quiz-option {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Footer */
        .footer {
            background: var(--dark);
            padding: 3rem var(--container-padding);
            margin-top: 4rem;
            text-align: center;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .social-icons a {
            color: var(--light);
            font-size: 1.5rem;
            transition: var(--transition-fast);
        }

        .social-icons a:hover {
            color: var(--primary);
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <!-- Enhanced Navigation -->
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">مركز FreeGLUT</div>
            <div class="menu-toggle"><i class="fas fa-bars"></i></div>
            <ul>
                <li><a href="#tutorials">الدروس</a></li>
                <li><a href="#quizzes">الاختبارات</a></li>
                <li><a href="#code-editor">مختبر الشيفرة</a></li>
                <li><a href="#visualization">مختبر ثلاثي الأبعاد</a></li>
                <li><a href="#progress">التقدم</a></li>
            </ul>
        </div>
    </nav>

    <!-- Enhanced Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>إتقان FreeGLUT</h1>
            <p>اغمر نفسك في عالم برمجة OpenGL مع دروس تفاعلية، وتمارين برمجية عملية، وتصوير ثلاثي الأبعاد في الوقت الفعلي.</p>
            <button class="btn" onclick="scrollToSection('tutorials')">ابدأ رحلتك</button>
        </div>
    </section>

    <!-- Rest of the content structure remains similar but with enhanced styling -->
    <!-- The content will inherit the new styles defined above -->
    
    <div class="container">
        <section id="tutorials" class="tutorials">
            <h2>الدروس التفاعلية</h2>
            <!-- Tutorials will be dynamically inserted here -->
        </section>

        <section id="quizzes" class="quizzes">
            <h2>الاختبارات</h2>
            <!-- Quizzes will be dynamically inserted here -->
        </section>

        <section id="code-editor" class="code-editor-section">
            <h2>مختبر الشيفرة</h2>
            <div class="editor-container">
                <textarea id="code-editor-textarea">
// اكتب شيفرة FreeGLUT الخاصة بك هنا
#include <GL/freeglut.h>

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("نافذة FreeGLUT");
    glutMainLoop();
    return 0;
}
                </textarea>
                <button class="btn" onclick="downloadCode()">تحميل الشيفرة</button>
                <div class="output" id="output"></div>
            </div>
        </section>

        <section id="visualization" class="visualization-section">
            <h2>مختبر التصوير ثلاثي الأبعاد</h2>
            <div class="visualization-container">
                <p>استمتع بالرسومات ثلاثية الأبعاد في الوقت الفعلي باستخدام WebGL</p>
                <canvas id="webgl-canvas"></canvas>
            </div>
        </section>

        <section id="progress" class="progress-tracker">
            <h2>تقدم التعلم</h2>
            <div class="progress">
                <p>إتمام الدروس:</p>
                <div class="progress-bar">
                    <div class="progress-bar-inner" id="tutorial-progress">0%</div>
                </div>
                <p>أداء الاختبارات:</p>
                <div class="progress-bar">
                    <div class="progress-bar-inner" id="quiz-progress">0%</div>
                </div>
            </div>
        </section>
    </div>

    <footer class="footer">
        <p>&copy; 2024 مركز FreeGLUT. جميع الحقوق محفوظة.</p>
        <div class="social-icons">
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
            <a href="#"><i class="fab fa-linkedin"></i></a>
        </div>
    </footer>

    <script src="index.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/hint/anyword-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/hint/javascript-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/hint/css-hint.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/addon/hint/html-hint.min.js"></script>

    <script>
        // بيانات الدروس والاختبارات
        const tutorialsData = [
            {
                id: 1,
                title: "مقدمة في FreeGLUT",
                content: `
    <p>FreeGLUT هو بديل مفتوح المصدر لمكتبة OpenGL Utility Toolkit (GLUT). يوفر واجهة برمجة تطبيقات بسيطة لإنشاء النوافذ، ومعالجة المدخلات، وإدارة سياق OpenGL.</p>
    <p><strong>الميزات الرئيسية:</strong></p>
    <ul>
        <li>إنشاء وإدارة النوافذ</li>
        <li>معالجة المدخلات (لوحة المفاتيح، الماوس)</li>
        <li>دوال رد النداء للتصيير والأحداث</li>
    </ul>
    <pre><code>#include <GL/freeglut.h>

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("نافذة FreeGLUT");
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glutCreateWindow"
            },
            {
                id: 2,
                title: "الأشكال الهندسية الأساسية",
                content: `
    <p>في OpenGL، الأشكال الهندسية الأساسية هي الأشكال الأساسية المستخدمة لبناء نماذج ثلاثية الأبعاد أكثر تعقيدًا. فهم هذه الأشكال ضروري لإنشاء تطبيقات رسومية.</p>
    <p><strong>الأشكال الشائعة:</strong></p>
    <ul>
        <li>نقاط</li>
        <li>خطوط</li>
        <li>مثلثات</li>
        <li>أرباعيات</li>
    </ul>
    <pre><code>#include <GL/freeglut.h>

void display() {
    glClear(GL_COLOR_BUFFER_BIT);

    glBegin(GL_TRIANGLES);
        glVertex2f(-0.5f, -0.5f); // النقطة 1
        glVertex2f(0.5f, -0.5f);  // النقطة 2
        glVertex2f(0.0f, 0.5f);   // النقطة 3
    glEnd();

    glFlush();
}

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("الأشكال الهندسية الأساسية");
    glutDisplayFunc(display);
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glBegin(GL_TRIANGLES)"
            },
            {
                id: 3,
                title: "الأشكال الهندسية: منزل",
                content: `
    <p>لننشئ منزلًا بسيطًا باستخدام الأشكال الهندسية في OpenGL.</p>
    <p><strong>المكونات:</strong></p>
    <ul>
        <li>مربع للأساس</li>
        <li>مثلث للسقف</li>
    </ul>
    <pre><code>#include <GL/freeglut.h>

void display() {
    glClear(GL_COLOR_BUFFER_BIT);

    // رسم قاعدة المنزل
    glBegin(GL_QUADS);
        glColor3f(0.7f, 0.7f, 0.7f); // لون رمادي
        glVertex2f(-0.5f, -0.5f); // أسفل اليسار
        glVertex2f(0.5f, -0.5f);  // أسفل اليمين
        glVertex2f(0.5f, 0.0f);   // أعلى اليمين
        glVertex2f(-0.5f, 0.0f);  // أعلى اليسار
    glEnd();

    // رسم سقف المنزل
    glBegin(GL_TRIANGLES);
        glColor3f(1.0f, 0.0f, 0.0f); // لون أحمر
        glVertex2f(-0.6f, 0.0f); // اليسار
        glVertex2f(0.6f, 0.0f);  // اليمين
        glVertex2f(0.0f, 0.5f);  // الأعلى
    glEnd();

    glFlush();
}

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("الأشكال الهندسية: منزل");
    glutDisplayFunc(display);
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glBegin(GL_QUADS)"
            },
            {
                id: 4,
                title: "تغيير اللون عند النقر بالماوس",
                content: `
    <p>تعلم كيفية تغيير لون الشكل بناءً على نقرات الماوس باستخدام معالجة المدخلات في FreeGLUT.</p>
    <p><strong>خطوات التنفيذ:</strong></p>
    <ol>
        <li>إعداد دالة العرض لرسم الشكل.</li>
        <li>تنفيذ دالة الماوس للكشف عن النقرات.</li>
        <li>تغيير اللون بناءً على زر الماوس المضغوط.</li>
    </ol>
    <pre><code>#include <GL/freeglut.h>

float colorR = 0.0f, colorG = 0.0f, colorB = 0.0f;

void display() {
    glClear(GL_COLOR_BUFFER_BIT);

    glColor3f(colorR, colorG, colorB); // لون ديناميكي
    glBegin(GL_TRIANGLES);
        glVertex2f(-0.5f, -0.5f);
        glVertex2f(0.5f, -0.5f);
        glVertex2f(0.0f, 0.5f);
    glEnd();

    glFlush();
}

void handleMouse(int button, int state, int x, int y) {
    if(state == GLUT_DOWN) {
        switch(button) {
            case GLUT_LEFT_BUTTON:
                colorR = 1.0f; colorG = 0.0f; colorB = 0.0f; // أحمر
                break;
            case GLUT_MIDDLE_BUTTON:
                colorR = 0.0f; colorG = 1.0f; colorB = 0.0f; // أخضر
                break;
            case GLUT_RIGHT_BUTTON:
                colorR = 0.0f; colorG = 0.0f; colorB = 1.0f; // أزرق
                break;
        }
        glutPostRedisplay();
    }
}

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("تغيير اللون عند النقر بالماوس");
    glutDisplayFunc(display);
    glutMouseFunc(handleMouse);
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glutMouseFunc(handleMouse)"
            },
            {
                id: 5,
                title: "تغيير اللون تدريجيًا بحركة الماوس",
                content: `
    <p>تنفيذ تغييرات تدريجية في اللون بناءً على حركة الماوس باستخدام دالة رد النداء لحركة الماوس في FreeGLUT.</p>
    <p><strong>خطوات التنفيذ:</strong></p>
    <ol>
        <li>إعداد دالة العرض لرسم الشكل.</li>
        <li>تنفيذ دالة حركة الماوس لتتبع حركة الماوس.</li>
        <li>تعديل اللون بناءً على مواقع x و y للماوس.</li>
    </ol>
    <pre><code>#include <GL/freeglut.h>

float colorR = 0.0f, colorG = 0.0f, colorB = 0.0f;

void display() {
    glClear(GL_COLOR_BUFFER_BIT);

    glColor3f(colorR, colorG, colorB); // لون ديناميكي
    glBegin(GL_QUADS);
        glVertex2f(-0.5f, -0.5f);
        glVertex2f(0.5f, -0.5f);
        glVertex2f(0.5f, 0.5f);
        glVertex2f(-0.5f, 0.5f);
    glEnd();

    glFlush();
}

void handleMotion(int x, int y) {
    int windowWidth = glutGet(GLUT_WINDOW_WIDTH);
    int windowHeight = glutGet(GLUT_WINDOW_HEIGHT);

    colorR = (float)x / windowWidth;
    colorG = (float)y / windowHeight;
    colorB = 0.5f; // مكون أزرق ثابت

    glutPostRedisplay();
}

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("تغيير اللون تدريجيًا بحركة الماوس");
    glutDisplayFunc(display);
    glutPassiveMotionFunc(handleMotion);
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glutPassiveMotionFunc(handleMotion)"
            },
            {
                id: 6,
                title: "رسم الأشكال عند نقر الماوس",
                content: `
    <p>تمكين رسم الأشكال في موقع نقرات الماوس باستخدام دالة رد النداء للماوس في FreeGLUT.</p>
    <p><strong>خطوات التنفيذ:</strong></p>
    <ol>
        <li>إعداد دالة العرض لرسم جميع الأشكال.</li>
        <li>تنفيذ دالة الماوس لالتقاط مواقع النقر.</li>
        <li>تخزين المواقع ورسم الأشكال وفقًا لذلك.</li>
    </ol>
    <pre><code>#include <GL/freeglut.h>
#include <vector>

struct Point {
    float x, y;
};

std::vector<Point> points;

void display() {
    glClear(GL_COLOR_BUFFER_BIT);

    glColor3f(0.0f, 0.6f, 0.8f); // لون سماوي
    glBegin(GL_POINTS);
        for(auto &p : points) {
            glVertex2f(p.x, p.y);
        }
    glEnd();

    glFlush();
}

void handleMouse(int button, int state, int x, int y) {
    if(state == GLUT_DOWN) {
        int windowWidth = glutGet(GLUT_WINDOW_WIDTH);
        int windowHeight = glutGet(GLUT_WINDOW_HEIGHT);

        float fx = (float)x / windowWidth * 2.0f - 1.0f;
        float fy = 1.0f - (float)y / windowHeight * 2.0f;

        points.push_back(Point{fx, fy});
        glutPostRedisplay();
    }
}

int main(int argc, char** argv) {
    glutInit(&argc, argv);
    glutCreateWindow("رسم الأشكال عند نقر الماوس");
    glutDisplayFunc(display);
    glutMouseFunc(handleMouse);
    glutInitWindowSize(800, 600);
    glPointSize(5.0f);
    glutMainLoop();
    return 0;
}</code></pre>
    `,
                expectedCode: "glutMouseFunc(handleMouse)"
            },
            // يمكنك إضافة المزيد من الدروس حتى id: 20 هنا بنفس النمط
        ];
        
        const quizzesData = [
            {
                id: 1,
                tutorialId: 1,
                question: "ما هو الاستخدام الرئيسي لـ FreeGLUT؟",
                options: {
                    a: "معالجة عمليات الشبكة",
                    b: "إنشاء النوافذ ومعالجة المدخلات في تطبيقات OpenGL",
                    c: "إدارة قواعد البيانات",
                    d: "معالجة الصور"
                },
                correct: "b"
            },
            {
                id: 2,
                tutorialId: 2,
                question: "أي دالة تستخدم لتحديد الأشكال الهندسية في OpenGL؟",
                options: {
                    a: "glBegin()",
                    b: "glVertex2f()",
                    c: "glEnd()",
                    d: "جميع ما ذكر"
                },
                correct: "d"
            },
            {
                id: 3,
                tutorialId: 3,
                question: "ما هو الشكل الذي يتم إنشاؤه بدمج مربع ومثلث في مثال 'الأشكال الهندسية المنزل'؟",
                options: {
                    a: "هرم",
                    b: "منزل",
                    c: "كرة",
                    d: "أسطوانة"
                },
                correct: "b"
            },
            {
                id: 4,
                tutorialId: 4,
                question: "أي زر ماوس يغير اللون إلى الأزرق في مثال 'تغيير اللون عند النقر بالماوس'؟",
                options: {
                    a: "الزر الأيسر",
                    b: "الزر الأوسط",
                    c: "الزر الأيمن",
                    d: "لا شيء مما ذكر"
                },
                correct: "c"
            },
            {
                id: 5,
                tutorialId: 5,
                question: "ماذا تفعل دالة 'glutPassiveMotionFunc' في مثال 'تغيير اللون تدريجيًا بحركة الماوس'؟",
                options: {
                    a: "تعالج نقرات الماوس",
                    b: "تعالج إدخال لوحة المفاتيح",
                    c: "تعالج حركة الماوس بدون ضغط الأزرار",
                    d: "تعالج تغيير حجم النافذة"
                },
                correct: "c"
            },
            {
                id: 6,
                tutorialId: 6,
                question: "في مثال 'رسم الأشكال عند نقر الماوس'، أي شكل هندسي يستخدم لرسم الأشكال؟",
                options: {
                    a: "GL_TRIANGLES",
                    b: "GL_QUADS",
                    c: "GL_POINTS",
                    d: "GL_LINES"
                },
                correct: "c"
            },
            {
                id: 7,
                tutorialId: 7,
                question: "أي دالة تستخدم لحفظ حالة المصفوفة الحالية في OpenGL؟",
                options: {
                    a: "glSaveMatrix()",
                    b: "glPushMatrix()",
                    c: "glStoreMatrix()",
                    d: "glCopyMatrix()"
                },
                correct: "b"
            },
            {
                id: 8,
                tutorialId: 8,
                question: "ما هو الغرض من 'glPushMatrix()' و 'glPopMatrix()' في OpenGL؟",
                options: {
                    a: "للتعامل مع الإضاءة",
                    b: "لإدارة مكدس المصفوفة للتحويلات",
                    c: "لتحميل الخامات",
                    d: "لإدارة المخازن"
                },
                correct: "b"
            },
            {
                id: 9,
                tutorialId: 9,
                question: "أي تحويل غير مغطى في درس 'التحويلات الأساسية'؟",
                options: {
                    a: "الترجمة",
                    b: "التوسيع",
                    c: "القص",
                    d: "الدوران"
                },
                correct: "c"
            },
            {
                id: 10,
                tutorialId: 10,
                question: "في مثال 'ترجمة الرسوم المتحركة'، ماذا يحدث عندما تصل الكائن إلى الحد الفاصل؟",
                options: {
                    a: "يختفي",
                    b: "يتغير لونه",
                    c: "يعكس الاتجاه",
                    d: "يتوقف عن الحركة"
                },
                correct: "c"
            },
            // يمكنك إضافة المزيد من الاختبارات حتى id: 20 هنا بنفس النمط
        ];
        
        // Function to generate Tutorials
        function generateTutorials() {
            const tutorialsSection = document.querySelector('.tutorials');
            tutorialsData.forEach(tutorial => {
                const tutorialDiv = document.createElement('div');
                tutorialDiv.classList.add('tutorial');
                tutorialDiv.setAttribute('data-tutorial-id', tutorial.id);
                tutorialDiv.innerHTML = `
                    <h3>${tutorial.id}. ${tutorial.title}</h3>
                    ${tutorial.content}
                    <button class="btn-submit" onclick="completeTutorial(${tutorial.id})">تحديد كمكتمل</button>
                    <div class="result" id="result-tutorial${tutorial.id}"></div>
                `;
                tutorialsSection.appendChild(tutorialDiv);
            });
        }
        
        // Function to generate Quizzes
        function generateQuizzes() {
            const quizzesSection = document.querySelector('.quizzes');
            quizzesData.forEach(quiz => {
                const quizDiv = document.createElement('div');
                quizDiv.classList.add('quiz');
                quizDiv.setAttribute('data-quiz-id', quiz.id);
                const tutorialTitle = tutorialsData.find(t => t.id === quiz.tutorialId).title;
                quizDiv.innerHTML = `
                    <h3>اختبار ${quiz.id}: ${tutorialTitle}</h3>
                    <p>${quiz.question}</p>
                    <ul class="options">
                        <li><input type="radio" name="quiz${quiz.id}" id="quiz${quiz.id}a" value="a"><label for="quiz${quiz.id}a">أ) ${quiz.options.a}</label></li>
                        <li><input type="radio" name="quiz${quiz.id}" id="quiz${quiz.id}b" value="b"><label for="quiz${quiz.id}b">ب) ${quiz.options.b}</label></li>
                        <li><input type="radio" name="quiz${quiz.id}" id="quiz${quiz.id}c" value="c"><label for="quiz${quiz.id}c">ج) ${quiz.options.c}</label></li>
                        <li><input type="radio" name="quiz${quiz.id}" id="quiz${quiz.id}d" value="d"><label for="quiz${quiz.id}d">د) ${quiz.options.d}</label></li>
                    </ul>
                    <button class="btn-submit" onclick="submitQuiz(${quiz.id})">إرسال</button>
                    <div class="result" id="result-quiz${quiz.id}"></div>
                `;
                quizzesSection.appendChild(quizDiv);
            });
        }
        
        // Function to handle Tutorial Completion
        function completeTutorial(tutorialId) {
            const tutorialDiv = document.querySelector(`.tutorial[data-tutorial-id="${tutorialId}"]`);
            tutorialDiv.style.display = 'none';
            updateProgress('tutorial');
        }
        
        // Function to handle Quiz Submission
        function submitQuiz(quizId) {
            const quiz = quizzesData.find(q => q.id === quizId);
            const selectedOption = document.querySelector(`.quiz[data-quiz-id="${quizId}"] input[type="radio"]:checked`);
            const resultDiv = document.getElementById(`result-quiz${quizId}`);
            if(selectedOption) {
                if(selectedOption.value === quiz.correct) {
                    resultDiv.innerHTML = '<span style="color: green;">صحيح!</span>';
                    updateProgress('quiz');
                    // Prompt user to write code
                    promptCodeWriting(quiz.tutorialId);
                } else {
                    resultDiv.innerHTML = '<span style="color: red;">خطأ. حاول مرة أخرى.</span>';
                }
            } else {
                resultDiv.innerHTML = '<span style="color: red;">يرجى اختيار خيار.</span>';
            }
        }
        
        function promptCodeWriting(tutorialId) {
            // Notify user to write code
            alert("عمل رائع! الآن، اكتب الشيفرة المقابلة في محرر الشيفرة وقم بتحميلها.");
            // Optionally, scroll to the code editor
            scrollToSection('code-editor');
        }
        
        // Progress Tracker Variables
        let tutorialsCompleted = 0;
        let quizzesCompleted = 0;
        const totalTutorials = tutorialsData.length;
        const totalQuizzes = quizzesData.length;
        
        // Function to update progress
        function updateProgress(type) {
            if(type === 'tutorial') {
                tutorialsCompleted = Math.min(tutorialsCompleted + 1, totalTutorials);
                updateProgressBar('tutorial-progress', tutorialsCompleted, totalTutorials);
            } else if(type === 'quiz') {
                quizzesCompleted = Math.min(quizzesCompleted + 1, totalQuizzes);
                updateProgressBar('quiz-progress', quizzesCompleted, totalQuizzes);
            }
        }
        
        // Function to update progress bar
        function updateProgressBar(elementId, completed, total) {
            const progressPercentage = Math.min((completed / total) * 100, 100);
            const progressBar = document.getElementById(elementId);
            progressBar.style.width = `${progressPercentage}%`;
            progressBar.textContent = `${Math.round(progressPercentage)}%`;
        }
        
        // Initialize Progress Tracker and Content
        document.addEventListener('DOMContentLoaded', () => {
            // Generate Tutorials and Quizzes
            generateTutorials();
            generateQuizzes();
        
            // Initialize progress bars
            updateProgressBar('tutorial-progress', tutorialsCompleted, totalTutorials);
            updateProgressBar('quiz-progress', quizzesCompleted, totalQuizzes);
        
            // Initialize CodeMirror
            const editor = CodeMirror.fromTextArea(document.getElementById('code-editor-textarea'), {
                lineNumbers: true,
                mode: "text/x-c++src",
                theme: "dracula",
                tabSize: 4,
                indentWithTabs: true,
                lineWrapping: true
            });
            window.codeMirrorInstance = editor;
        });
        
        // Code Editor Download Function
        function downloadCode() {
            const code = window.codeMirrorInstance.getValue();
            const blob = new Blob([code], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'main.cpp';
            a.click();
            URL.revokeObjectURL(url);
            const output = document.getElementById('output');
            output.innerHTML = '<span style="color: green;">تم تحميل الشيفرة بنجاح!</span>';
        }
        
        // Function to validate code (Basic Example)
        function validateCode() {
            const code = window.codeMirrorInstance.getValue();
            // Example: Check if 'glutCreateWindow' is present
            if(code.includes('glutCreateWindow')) {
                alert('شيفرتك تبدو جيدة!');
            } else {
                alert('يرجى التأكد من تضمين دالة glutCreateWindow.');
            }
        }
        
        // Mobile Navigation Toggle
        const menuToggle = document.querySelector('.menu-toggle');
        const navbar = document.querySelector('.navbar');
        
        menuToggle.addEventListener('click', () => {
            navbar.classList.toggle('active');
        });
        
        // Smooth Scroll Function
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            window.scrollTo({
                top: section.offsetTop - 60,
                behavior: 'smooth'
            });
        }
        
        // WebGL Canvas Initialization
        const canvas = document.getElementById('webgl-canvas');
        const gl = canvas.getContext('webgl');
        
        if (!gl) {
            console.error('WebGL غير مدعوم');
        }
        
        // Update the progress bars
        document.getElementById('tutorial-progress').style.width = '50%';
        document.getElementById('quiz-progress').style.width = '75%';
        
        // Function to initialize WebGL (يمكنك استخدام الكود السابق هنا إذا لزم الأمر)
        function initWebGLVisualization() {
            // يمكنك وضع كود WebGL الخاص بك هنا إذا لزم الأمر
        }
        
        // Initialize WebGL Visualization
        window.onload = function() {
            initWebGLVisualization();
        };
    </script>
</body>
</html>
